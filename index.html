<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>èº«ä»½éªŒè¯ä¸­å¿ƒ</title>
    <style>
        * { box-sizing: border-box; }
        body { 
            font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", "SF Pro Text", "Helvetica Neue", sans-serif; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            min-height: 100vh; 
            margin: 0; 
            background: linear-gradient(135deg, #00d4ff 0%, #0099cc 50%, #006b8a 100%);
            background-attachment: fixed;
            color: #1d1d1f; 
            transition: background 0.6s ease, color 0.6s ease;
            padding: 20px;
        }
        .container { 
            width: 100%;
            max-width: 480px; 
            padding: 40px 44px; 
            background: rgba(255, 255, 255, 0.75);
            backdrop-filter: saturate(180%) blur(20px);
            -webkit-backdrop-filter: saturate(180%) blur(20px);
            border-radius: 24px; 
            box-shadow: 0 8px 32px rgba(31, 38, 135, 0.15), 0 2px 8px rgba(0, 0, 0, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.18);
            text-align: left;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        #title { 
            font-size: 28px; 
            font-weight: 600; 
            margin: 0 0 12px; 
            color: #1d1d1f;
            letter-spacing: -0.02em;
        }
        #subtitle { 
            margin: 0 0 28px; 
            color: #6e6e73; 
            line-height: 1.6;
            font-size: 15px;
        }
        #message { 
            margin-top: 24px; 
            color: #ff3b30; 
            font-weight: 500; 
            min-height: 20px; 
            transition: color 0.3s ease;
            font-size: 14px;
        }
        .helper { 
            margin-top: 20px; 
            font-size: 13px; 
            color: #86868b; 
            line-height: 1.6; 
            border-top: 1px solid rgba(0, 0, 0, 0.08); 
            padding-top: 18px;
        }
        body.final-stage { 
            background: linear-gradient(135deg, #0a1828 0%, #1e3a5f 50%, #002642 100%);
            color: #f5f5f7;
        }
        .final-stage-card { 
            max-width: 620px;
            background: rgba(29, 29, 31, 0.88);
            backdrop-filter: saturate(180%) blur(30px);
            -webkit-backdrop-filter: saturate(180%) blur(30px);
            border-radius: 28px; 
            padding: 56px 48px; 
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.6), 0 8px 24px rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(255, 255, 255, 0.06); 
            text-align: center;
        }
        .final-mockery { 
            color: #f5f5f7; 
            font-size: 17px; 
            line-height: 1.7;
        }
        .final-mockery strong { 
            color: #ff453a; 
            display: block; 
            margin: 24px 0 16px; 
            letter-spacing: 0.12em; 
            font-size: 32px;
            font-weight: 700;
            text-transform: uppercase;
        }
        .status-chip { 
            display: inline-flex; 
            align-items: center; 
            justify-content: center; 
            padding: 8px 16px; 
            border-radius: 20px; 
            font-size: 12px; 
            font-weight: 600;
            letter-spacing: 0.08em; 
            background: rgba(255, 69, 58, 0.15);
            color: #ff9f0a; 
            border: 1px solid rgba(255, 159, 10, 0.3);
            text-transform: uppercase;
        }
        .final-mockery p:last-child { 
            margin-bottom: 0; 
            color: #a1a1a6;
        }
        .final-video { 
            margin-top: 32px; 
            border-radius: 20px; 
            overflow: hidden; 
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.5);
        }
        .final-video video { 
            width: 100%; 
            display: block;
        }
    </style>
    <script src="https://challenges.cloudflare.com/turnstile/v0/api.js?onload=onTurnstileScriptLoad&render=explicit" async defer></script>
    <script src="https://www.recaptcha.net/recaptcha/api.js?render=explicit" async defer></script>
</head>
<body>

<div class="container" id="main-container">
    <h1 id="title">è®¿é—®å®‰å…¨ç¡®è®¤</h1>
    <p id="subtitle">ç³»ç»Ÿæ­£åœ¨å¯¹å½“å‰ä¼šè¯è¿›è¡Œé£é™©å¤æ ¸ï¼Œè¯·æŒ‰ç…§ç»„ä»¶æç¤ºå®Œæˆå¯¹åº”æ“ä½œã€‚</p>
    <div id="turnstile-container"></div>
    <div id="recaptcha-container" style="display: none;"></div>
    <div id="message"></div>
    <div class="helper" id="helper">è‹¥éªŒè¯å¤±è´¥è¯·è€å¿ƒç­‰å¾…ç³»ç»Ÿè‡ªåŠ¨é‡è¯•ï¼Œæ— éœ€åˆ·æ–°é¡µé¢ã€‚</div>
</div>

<script>
    const cfSiteKey = '0x4AAAAAAB8gIz-w588B8gQ-';
    const googleSiteKey = '6Lf2dvYrAAAAAI4-JSRGx_0Cp4keDrsxgLsbfBSm';
    const titleEl = document.getElementById('title');
    const subtitleEl = document.getElementById('subtitle');
    const messageEl = document.getElementById('message');
    const helperEl = document.getElementById('helper');
    const turnstileContainer = document.getElementById('turnstile-container');
    const recaptchaContainer = document.getElementById('recaptcha-container');
    let currentStage = 'cf-1'; 
    let turnstileWidgetId;
    let recaptchaWidgetId;

    function updateUI() {
        messageEl.textContent = '';
        switch (currentStage) {
            case 'cf-1':
                titleEl.textContent = 'è®¿é—®å®‰å…¨ç¡®è®¤';
                subtitleEl.textContent = 'æ£€æµ‹åˆ°æ‚¨çš„ä¼šè¯å¯èƒ½å­˜åœ¨å¼‚å¸¸è¡Œä¸ºã€‚è¯·å®Œæˆä»¥ä¸‹éªŒè¯ä»¥ç»§ç»­è®¿é—®ã€‚';
                helperEl.textContent = 'é€šå¸¸æ­¤éªŒè¯ä»…éœ€ä¸€æ¬¡ï¼Œå®Œæˆåå°†è‡ªåŠ¨è·³è½¬è‡³ç›®æ ‡é¡µé¢ã€‚';
                turnstileWidgetId = turnstile.render('#turnstile-container', { sitekey: cfSiteKey, callback: onTurnstileSuccess });
                break;
            case 'cf-2':
                titleEl.textContent = 'äºŒæ¬¡éªŒè¯ç¡®è®¤';
                subtitleEl.textContent = 'æ‚¨çš„ç½‘ç»œç¯å¢ƒå­˜åœ¨è½»å¾®é£é™©æ ‡è®°ï¼Œéœ€è¦è¿›è¡Œé¢å¤–çš„èº«ä»½éªŒè¯ã€‚è¿™æ˜¯æœ€åä¸€æ¬¡ Turnstile éªŒè¯ã€‚';
                helperEl.textContent = 'å®Œæˆåå³å¯è®¿é—®å†…å®¹ã€‚è‹¥å¤±è´¥ç³»ç»Ÿå°†åˆ‡æ¢ä¸ºå›¾åƒè¯†åˆ«æ–¹å¼ã€‚';
                turnstile.reset(turnstileWidgetId);
                break;
            case 'google-1':
                titleEl.textContent = 'é«˜çº§èº«ä»½éªŒè¯';
                subtitleEl.textContent = 'ç³»ç»Ÿå·²å‡çº§éªŒè¯æ–¹å¼ä¸º Google reCAPTCHAã€‚å®Œæˆå›¾åƒé€‰æ‹©åå³å¯é€šè¿‡éªŒè¯ã€‚';
                helperEl.textContent = 'è¯·ä»”ç»†é€‰æ‹©ç¬¦åˆè¦æ±‚çš„å›¾ç‰‡ï¼Œé€šå¸¸ 1-2 ç»„å³å¯å®Œæˆã€‚';
                turnstileContainer.style.display = 'none';
                recaptchaContainer.style.display = 'block';
                if (recaptchaWidgetId === undefined) {
                    recaptchaWidgetId = grecaptcha.render('recaptcha-container', { sitekey: googleSiteKey, callback: onRecaptchaSuccess });
                } else {
                    grecaptcha.reset(recaptchaWidgetId);
                }
                preloadVideo();
                break;
            case 'google-2':
                titleEl.textContent = 'éªŒè¯è¿›åº¦ï¼š66%';
                subtitleEl.textContent = 'ç³»ç»Ÿæ­£åœ¨æ ¸éªŒæ‚¨çš„é€‰æ‹©ï¼Œè¯·å†å®Œæˆä¸€ç»„å›¾åƒè¯†åˆ«ä»¥ç¡®ä¿å‡†ç¡®æ€§ã€‚';
                helperEl.textContent = 'æ‚¨å·²æ¥è¿‘å®ŒæˆéªŒè¯ï¼Œè¯·ç»§ç»­ã€‚å¤§éƒ¨åˆ†ç”¨æˆ·åœ¨æ­¤æ­¥éª¤å³å¯é€šè¿‡ã€‚';
                grecaptcha.reset(recaptchaWidgetId);
                break;
            case 'google-3':
                titleEl.textContent = 'æœ€ç»ˆéªŒè¯ï¼š98%';
                subtitleEl.textContent = 'å³å°†å®Œæˆï¼ç³»ç»Ÿæ­£åœ¨è¿›è¡Œæœ€åçš„å®‰å…¨æ ¡éªŒï¼Œè¿™æ˜¯æœ€åä¸€ç»„éªŒè¯ã€‚';
                helperEl.textContent = 'éªŒè¯æˆåŠŸåå°†ç«‹å³è·³è½¬è‡³å†…å®¹é¡µé¢ï¼Œæ„Ÿè°¢æ‚¨çš„è€å¿ƒé…åˆã€‚';
                grecaptcha.reset(recaptchaWidgetId);
                break;
            case 'final-mockery':
                showFinalMessage();
                break;
        }
    }

    function onTurnstileSuccess(token) {
        messageEl.textContent = 'âœ“ éªŒè¯æˆåŠŸï¼Œæ­£åœ¨è¿›è¡Œå®‰å…¨æ€§å¤æ ¸...';
        setTimeout(() => {
            messageEl.textContent = 'æ£€æµ‹åˆ°å¼‚å¸¸æŒ‡çº¹ï¼Œéœ€è¦é¢å¤–éªŒè¯â€¦';
            setTimeout(() => {
                currentStage = currentStage === 'cf-1' ? 'cf-2' : 'google-1';
                updateUI();
            }, 1600);
        }, 800);
    }

    function onRecaptchaSuccess(token) {
        messageEl.textContent = 'âœ“ å›¾åƒè¯†åˆ«é€šè¿‡ï¼Œæ­£åœ¨éªŒè¯ç”¨æˆ·èº«ä»½...';
        setTimeout(() => {
            messageEl.textContent = 'ç½®ä¿¡åº¦ä¸è¶³ï¼Œè¯·ç»§ç»­å®Œæˆä¸‹ä¸€ç»„éªŒè¯â€¦';
            setTimeout(() => {
                if (currentStage === 'google-1') currentStage = 'google-2';
                else if (currentStage === 'google-2') currentStage = 'google-3';
                else if (currentStage === 'google-3') currentStage = 'final-mockery';
                updateUI();
            }, 1600);
        }, 800);
    }
    
    function onTurnstileScriptLoad() {
        updateUI();
    }

    let preloadedVideo = null;
    function preloadVideo() {
        if (preloadedVideo) return;
        preloadedVideo = document.createElement('video');
        preloadedVideo.preload = 'auto';
        preloadedVideo.src = './rick.mp4';
        preloadedVideo.load();
    }

    function showFinalMessage() {
        document.body.classList.add('final-stage');
        const container = document.getElementById('main-container');
        container.classList.add('final-stage-card');
        container.innerHTML = `
            <div class="final-mockery">
                <span class="status-chip">Access Denied</span>
                <strong>ä½ è¢«è€äº†</strong>
                <p>æ­å–œä½ å®Œæˆäº†äº”è½®éªŒè¯ï¼ä¸è¿‡å¾ˆé—æ†¾â€¦â€¦</p>
                <p>è¿™ä¸ªé¡µé¢ä»ä¸€å¼€å§‹å°±æ²¡æ‰“ç®—è®©ä½ é€šè¿‡ã€‚</p>
                <p>ä½ åˆšæ‰ç‚¹çš„æ¯ä¸€ä¸ªéªŒè¯ç ï¼Œéƒ½åªæ˜¯åœ¨ç»™æˆ‘ä»¬å¢åŠ å¨±ä¹ä»·å€¼ã€‚</p>
                <p>æ„Ÿè°¢ä½ çš„å‚ä¸ï¼Œä¸‹æ¬¡çœ‹åˆ°"éªŒè¯è¿›åº¦98%"è®°å¾—å¤šä¸ªå¿ƒçœ¼ğŸ˜‰</p>
            </div>
            <div class="final-video">
                <video autoplay muted loop playsinline preload="auto">
                    <source src="./rick.mp4" type="video/mp4">
                </video>
            </div>
        `;
        const videoEl = container.querySelector('.final-video video');
        if (videoEl) {
            const ensurePlay = () => {
                const playPromise = videoEl.play();
                if (playPromise && playPromise.catch) {
                    playPromise.catch(() => setTimeout(ensurePlay, 600));
                }
            };
            ensurePlay();
        }
    }
</script>

</body>
</html>
